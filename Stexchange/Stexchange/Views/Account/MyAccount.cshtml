@{
    ViewData["Title"] = "Mijn Account";
}
@model AccountViewModel
@using Stexchange.Data.Models
<link rel="stylesheet" href="~/css/MyAccount.css" />

@if (ViewBag.Messages is object)
{
    <form id="errorpopup">
        <div id="errorblock" onload="toggleElements()">
            <h3>ERROR</h3>
            @foreach (var message in ViewBag.Messages)
            {
                <p>@message</p>
            }
            <input type="button" value="OK" onclick="hideForm()" id="errorbutton" />
        </div>
    </form>
}

<div id="profileColumn">
    <h4>@Model.User.Username</h4>
    <p>Gemiddelde beoordeling op</p>
    <p id="communication">
        Communicatie
        <span id="communicationReviews">(@Model.User.Rating.CommunicationCount)</span>
        @for (int i = (int)Math.Round(Model.User.Rating.CommunicationAvg); i > 0; i--)
        {
            <label class="stars communicationrating" for="communication">&#9733;</label>
        }
    </p>
    <p id="quality">
        Kwaliteit
        <span id="qualityReviews">(@Model.User.Rating.QualityCount)</span>
        @for (int i = (int)Math.Round(Model.User.Rating.QualityAvg); i > 0; i--)
        {
            <label class="stars qualityrating" for="quality" id="quality">&#9733;</label>
        }
    </p>
    <button onclick="showRequestForm('myadvertisementsColumn', this.id)" id="accountsettingsButton">Mijn aanbiedingen</button>
    <button onclick="showRequestForm('ratingreviewColumn', this.id)" id="ratingreviewButton">Beoordelingsverzoeken</button>
    <button onclick="showRequestForm('mySettingsColumn', this.id)" id="mySettingsButton">Account instellingen</button>
</div>

<div id="myadvertisementsColumn">
    <h3>Mijn aanbiedingen</h3>
    <p>1 actieve aanbieding</p>
    <!--foreach loop advertisements-->
    <div id="advertisementColumn">
        <div id="advertisementInfo">
            <img src="~/img/plantje.png" />
            <h4 id="title">Mooie plant voor in de tuin</h4>
            <p>04-01-2021</p>
        </div>
        <div id="advertisementOptions">
            <input type="range" value="true" />
            <input type="button" id="ratingrequestButton" value="RUIL REGISTREREN" onclick="showRequestForm('requestForm', 'accountsettingsButton')" />
            <input type="button" id="modifyButton" value="WIJZIGEN" />
            <input type="button" id="deleteButton" value="VERWIJDEREN" />
        </div>
    </div>
</div>

<div id="requestForm">
    <h3>Ruil registreren</h3>
    <input type="button" id="cancelButton" value="X" onclick="closeRequestForm('requestForm')" />
    <form action="#" method="post" id="myrequestForm">
        <p>Advertentie: Mooi plantje voor in de tuin</p>
        <label for="receiver" class="labeltext">Ontvanger</label>
        <select id="selectOptions">
            <!--foreach loop users from chat-->
            <option value="Tester">Tester</option>
        </select>
        <label>Aantal geruilde / weggegeven planten</label>
        <input type="number" name="quantity" id="quantity" />
        <input type="button" id="confirmButton" value="BEVESTIGEN" onclick="submitForm('requestForm', 'myrequestForm')" />
    </form>
</div>

<div id="mySettingsColumn">
    <div id="formColumn">
        <h3>Account instellingen</h3>
        <input type="button" id="cancelButton" value="X" onclick="closeRequestForm('mySettingsColumn')" />
        <form action="#" method="post">
            <label for="username" class="labeltext">Gebruikersnaam</label>
            <input type="text" name="username" id="username" placeholder="Wings" />

            <label for="postcalcode" class="labeltext">Postcode</label>
            <input type="text" name="postalcode" id="postalcode" placeholder="4207JG" />

            <label for="email" class="labeltext">E-mail</label>
            <input type="text" name="email" id="email" placeholder="wingyeechung12@gmail.com" />

            <label for="password" class="labeltext">Wachtwoord</label>
            <input type="text" name="password" id="password" placeholder="Hello123" />

            <label for="confirm_password" class="labeltext">Bevestig wachtwoord</label>
            <input type="text" name="confirm_password" id="confirm_password" placeholder="Hello123" />

            <input type="button" id="saveButton" value="Opslaan" />
        </form>
    </div>
</div>

<div id="ratingreviewColumn">
    <h3>Beoordelingsverzoeken</h3>
    <p>1 beoordelingsverzoek</p>
    <!--foreach loop rating requests-->
    <div id="reviewRequest">
        <div id="reviewInfo">
            <h4 id="title">Orchidee</h4>
            <p>Tester</p>
        </div>
        <div id="reviewOptions">
            <input type="button" id="reviewButton" value="BEOORDELING PLAATSEN" />
        </div>
    </div>
</div>

<script type="text/javascript" src="~/js/MyAccount.js" asp-append-version="true"></script>